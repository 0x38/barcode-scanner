<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Barcode Scanner</title>
    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name=description content="A progressive web app for barcode scanning">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Barcode Scanner">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#00bcd4">
    <meta name="apple-mobile-web-app-title" content="Barcode Scanner">
    <meta name="msapplication-TileColor" content="#00bcd4">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="theme-color" content="#00bcd4">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/touch/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/touch/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/touch/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/touch/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/touch/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/touch/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/touch/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/touch/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/touch/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/touch/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/touch/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/touch/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons" media="all">
    <link href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,medium&amp;lang=en" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/styles.css">
  </head>
  <body>

    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

      <div aria-expanded="false" role="button" tabindex="0" class="mdl-layout__drawer-button">
        <i class="material-icons custom-menu-icon">î—’</i>
      </div>

      <header class="mdl-layout__header is-casting-shadow">
        <div class="mdl-layout__header-row">
          <span class="mdl-layout-title custom-title">Barcode Scanner</span>
        </div>
      </header>

      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Barcode Scanner</span>
        <nav class="mdl-navigation">
          <a class="mdl-navigation__link" href="https://github.com/code-kotis/barcode-scanner">
            <i class="material-icons">info_outline</i>
            <span>Source</span>
          </a>
          <a class="mdl-navigation__link" href="https://github.com/orgs/code-kotis/people">
            <i class="material-icons">launch</i>
            <span>Author</span>
          </a>
          <a class="mdl-navigation__link" href="https://github.com/code-kotis/barcode-scanner/issues/new">
            <i class="material-icons">bug_report</i>
            <span>Bug report</span>
          </a>
        </nav>
      </div>

      <main class="mdl-layout__content">
        <div class="page-content">

          <p class="custom-msg">Press fab button to scan your barcode</p>

          <!-- <div id="qr-code"></div> -->

          <video autoplay="true" id="webcam" width=320></video>

          <ul id="list"></ul>

          <button class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect custom-btn">
            <i class="material-icons">camera_enhance</i>
          </button>

          <!-- Snackbar -->
          <div id="toast-notification" class="mdl-js-snackbar mdl-snackbar">
            <div class="mdl-snackbar__text"></div>
            <button class="mdl-snackbar__action" type="button"></button>
          </div>
        </div>
      </main>
    </div>

    <script src="/js/app.js"></script>
    <script>
      QRReader.init("#webcam");
      var btn = document.querySelector('.custom-btn');
      btn.addEventListener('click', function () {
        scan();
      });
      function scan() {
        QRReader.scan(function (result) {
          var list = document.getElementById("list");
  				var li = document.createElement("li");
  				li.appendChild(document.createTextNode(result));
  				list.appendChild(li);
  				setTimeout(scan, 200);
        });
      }
    </script>
  </body>
</html>
